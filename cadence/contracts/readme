Coin
CollectionStoragePath = /storage/CoinCollection
CollectionPublicPath = /public/CoinCollection
MinterStoragePath = /storage/CoinMinter

NFTMarketplace
/public/SaleCollection
/storage/SaleCollection

1. Setup coin

flow transactions send ./cadence/transactions/setup_coin.cdc

- checks if Coin.Collection exists in Coin.CollectionStoragePath (/storage/CoinCollection)
- if it doesn't then it creates an emptyCollection
    pub fun createEmptyCollection(): @Collection {
        return <- create Collection()
    }
- Collection is saved to Coin.CollectionStoragePath (/storage/CoinCollection)
- A link is created , need further explanation here:
    signer.link<&{NonFungibleToken.CollectionPublic, Coin.CollectionPublic, MetadataViews.ResolverCollection}>(
            Coin.CollectionPublicPath,
            target: Coin.CollectionStoragePath

2. Mint NFT

flow transactions send ./cadence/transactions/mint_nft.cdc f8d6e0586b0a20c7 0 0 "name" "desc" "thumb" []

- borrows minter object from account from Coin.MinterStoragePath (/storage/CoinMinter)
- borrows recipients public Coin.CollectionPublicPath/NonFungibleToken.CollectionPublic capability
 
 Quick start
 Bob: 0x179b6b1cb6755e31

 1. flow emulator start -v
 2. flow deploy project
 3. flow keys generate
 4. flow accounts create --key PublicKey
 5. update flow.json
 6. flow transactions send ./cadence/transactions/setup.cdc
 7. flow transactions send ./cadence/transactions/setup.cdc --signer=Alice
 8. Run twice
 flow transactions send ./cadence/transactions/mint_nft.cdc f8d6e0586b0a20c7 0 0
 9. Run twice
flow transactions send ./cadence/transactions/mint_nft.cdc 01cf0e2f2f715450 0 0
10. flow transactions send ./cadence/transactions/list_for_sale.cdc 0 1.0
11. Expect tokens 0,1
flow scripts execute ./cadence/scripts/get_nft_details.cdc f8d6e0586b0a20c7
12. Expect tokens 2,3
flow scripts execute ./cadence/scripts/get_nft_details.cdc 01cf0e2f2f715450
13. Expect token 0
flow scripts execute ./cadence/scripts/get_nft_listings.cdc f8d6e0586b0a20c7
14. Expect {}
flow scripts execute ./cadence/scripts/get_nft_listings.cdc 01cf0e2f2f715450
15. flow transactions send ./cadence/utilities/fundEmulator.cdc f8d6e0586b0a20c7 1000.0
16. flow transactions send ./cadence/utilities/fundEmulator.cdc 01cf0e2f2f715450 1000.0
17. flow transactions send ./cadence/transactions/purchase.cdc f8d6e0586b0a20c7 0 --signer=Alice
18. Expect tokens 1
flow scripts execute ./cadence/scripts/get_nft_details.cdc f8d6e0586b0a20c7
19. Expect tokens 0,2,3
flow scripts execute ./cadence/scripts/get_nft_details.cdc 01cf0e2f2f715450
20. Expect {}}
flow scripts execute ./cadence/scripts/get_nft_listings.cdc f8d6e0586b0a20c7
21. Expect {}
flow scripts execute ./cadence/scripts/get_nft_listings.cdc 01cf0e2f2f715450
22. flow transactions send ./cadence/transactions/transfer.cdc f8d6e0586b0a20c7 0 --signer=Alice
23. Expect tokens 0,1
flow scripts execute ./cadence/scripts/get_nft_details.cdc f8d6e0586b0a20c7
24. Expect tokens 2,3
flow scripts execute ./cadence/scripts/get_nft_details.cdc 01cf0e2f2f715450
25. flow transactions send ./cadence/transactions/transfer.cdc 01cf0e2f2f715450 1
26. Expect tokens 0
flow scripts execute ./cadence/scripts/get_nft_details.cdc f8d6e0586b0a20c7
27. Expect tokens 1,2,3
flow scripts execute ./cadence/scripts/get_nft_details.cdc 01cf0e2f2f715450

Testnet Deployment

1. flow keys generate
2. Enter public key: https://testnet-faucet-v2.onflow.org/
3. Store these keys safely
4. Update flow.json testnet-account with the private key and address
5. Ensure flow.json has the right contracts to be deployed
6. Update flow.json aliases if needed
6. flow deploy project --network=testnet
7. Verify contracts are deployed https://testnet.flowscan.org/account/0xf59a7e2d7b36c96f
7. flow transactions send ./cadence/transactions/setup.cdc --signer=testnet-account --network=testnet
8. Run twice
flow transactions send ./cadence/transactions/mint_nft.cdc 0xf59a7e2d7b36c96f 0 0 --signer=testnet-account --network=testnet
9. flow scripts execute ./cadence/scripts/get_nfts.cdc 0xf59a7e2d7b36c96f --network=testnet
10. flow transactions send ./cadence/transactions/list_for_sale.cdc 0 1.0 --signer=testnet-account --network=testnet
11. flow scripts execute ./cadence/scripts/get_nft_listings.cdc 0xf59a7e2d7b36c96f --network=testnet
12. flow transactions send ./cadence/transactions/list_for_sale.cdc 1 1.0 --signer=testnet-account --network=testnet
13. flow scripts execute ./cadence/scripts/get_nft_listings.cdc 0xf59a7e2d7b36c96f --network=testnet
14. flow scripts execute ./cadence/scripts/get_nfts.cdc 0xf59a7e2d7b36c96f --network=testnet